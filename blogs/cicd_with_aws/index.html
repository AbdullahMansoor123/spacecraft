<!DOCTYPE html>
<html lang="en" dir="auto">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>CICD with AWS | Spaceman Crafts</title>
<meta name="keywords" content="CICD, AWS">
<meta name="description" content="Steps


Clone the GitHub Repo
git clone https://github.com/AbdullahMansoor123/ml_end2end
cd ml_end2end


Create a Dockerfile

Define the Dockerfile to build the application.



Create a GitHub Workflow

Set up GitHub Actions workflow for continuous integration.



Create IAM User and Download Access Key

Create an IAM user in AWS with necessary permissions and download the access key and secret key.



Create AWS ECR Repo and Copy URL

Create a repository in AWS Elastic Container Registry (ECR) and copy the repository URL.



Set Up EC2 Instance">
<meta name="author" content="">
<link rel="canonical" href="https://AbdullahMansoor123.github.io/spacecraft/blogs/cicd_with_aws/">
<link crossorigin="anonymous" href="/spacecraft/assets/css/stylesheet.f49d66caae9ea0fd43f21f29e71a8d3e284517ed770f2aa86fa012953ad3c9ef.css" integrity="sha256-9J1myq6eoP1D8h8p5xqNPihFF&#43;13Dyqob6ASlTrTye8=" rel="preload stylesheet" as="style">
<link rel="icon" href="https://AbdullahMansoor123.github.io/spacecraft/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="https://AbdullahMansoor123.github.io/spacecraft/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://AbdullahMansoor123.github.io/spacecraft/favicon-32x32.png">
<link rel="apple-touch-icon" href="https://AbdullahMansoor123.github.io/spacecraft/apple-touch-icon.png">
<link rel="mask-icon" href="https://AbdullahMansoor123.github.io/spacecraft/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" hreflang="en" href="https://AbdullahMansoor123.github.io/spacecraft/blogs/cicd_with_aws/">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --code-block-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript><meta property="og:url" content="https://AbdullahMansoor123.github.io/spacecraft/blogs/cicd_with_aws/">
  <meta property="og:site_name" content="Spaceman Crafts">
  <meta property="og:title" content="CICD with AWS">
  <meta property="og:description" content="Steps Clone the GitHub Repo
git clone https://github.com/AbdullahMansoor123/ml_end2end cd ml_end2end Create a Dockerfile
Define the Dockerfile to build the application. Create a GitHub Workflow
Set up GitHub Actions workflow for continuous integration. Create IAM User and Download Access Key
Create an IAM user in AWS with necessary permissions and download the access key and secret key. Create AWS ECR Repo and Copy URL
Create a repository in AWS Elastic Container Registry (ECR) and copy the repository URL. Set Up EC2 Instance">
  <meta property="og:locale" content="en-us">
  <meta property="og:type" content="article">
    <meta property="article:section" content="blogs">
    <meta property="article:tag" content="CICD">
    <meta property="article:tag" content="AWS">
    <meta property="og:image" content="https://AbdullahMansoor123.github.io/spacecraft/images/cicd.png">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:image" content="https://AbdullahMansoor123.github.io/spacecraft/images/cicd.png">
<meta name="twitter:title" content="CICD with AWS">
<meta name="twitter:description" content="Steps


Clone the GitHub Repo
git clone https://github.com/AbdullahMansoor123/ml_end2end
cd ml_end2end


Create a Dockerfile

Define the Dockerfile to build the application.



Create a GitHub Workflow

Set up GitHub Actions workflow for continuous integration.



Create IAM User and Download Access Key

Create an IAM user in AWS with necessary permissions and download the access key and secret key.



Create AWS ECR Repo and Copy URL

Create a repository in AWS Elastic Container Registry (ECR) and copy the repository URL.



Set Up EC2 Instance">


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "Blogs",
      "item": "https://AbdullahMansoor123.github.io/spacecraft/blogs/"
    }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "CICD with AWS",
      "item": "https://AbdullahMansoor123.github.io/spacecraft/blogs/cicd_with_aws/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "CICD with AWS",
  "name": "CICD with AWS",
  "description": "Steps Clone the GitHub Repo\ngit clone https://github.com/AbdullahMansoor123/ml_end2end cd ml_end2end Create a Dockerfile\nDefine the Dockerfile to build the application. Create a GitHub Workflow\nSet up GitHub Actions workflow for continuous integration. Create IAM User and Download Access Key\nCreate an IAM user in AWS with necessary permissions and download the access key and secret key. Create AWS ECR Repo and Copy URL\nCreate a repository in AWS Elastic Container Registry (ECR) and copy the repository URL. Set Up EC2 Instance\n",
  "keywords": [
    "CICD", "AWS"
  ],
  "articleBody": "Steps Clone the GitHub Repo\ngit clone https://github.com/AbdullahMansoor123/ml_end2end cd ml_end2end Create a Dockerfile\nDefine the Dockerfile to build the application. Create a GitHub Workflow\nSet up GitHub Actions workflow for continuous integration. Create IAM User and Download Access Key\nCreate an IAM user in AWS with necessary permissions and download the access key and secret key. Create AWS ECR Repo and Copy URL\nCreate a repository in AWS Elastic Container Registry (ECR) and copy the repository URL. Set Up EC2 Instance\nLaunch an EC2 instance and configure it as follows: sudo apt-get update -y sudo apt-get update curl -fsSL https://get.docker.com -o get-docker.sh sudo sh get-docker.sh sudo usermod -aG docker ubuntu newgrp docker check if the setup completed successfully by running docker images on the EC2 instance Create Runner on GitHub to Connect Repo with EC2\nCreate a Folder for the Runner\nmkdir actions-runner \u0026\u0026 cd actions-runner Download the Latest Runner Package\ncurl -o actions-runner-linux-x64-2.319.1.tar.gz -L https://github.com/actions/runner/releases/download/v2.319.1/actions-runner-linux-x64-2.319.1.tar.gz Optional: Validate the Hash\necho \"3f6efb7488a183e291fc2c62876e14c9ee732864173734facc85a1bfb1744464 actions-runner-linux-x64-2.319.1.tar.gz\" | shasum -a 256 -c Extract the Installer\ntar xzf ./actions-runner-linux-x64-2.319.1.tar.gz Configure the Runner\n./config.sh --url https://github.com/AbdullahMansoor123/ml_end2end --token Run the Runner\n./run.sh Update GitHub Workflow YAML\nUse the following in your GitHub Actions workflow file:\nruns-on: self-hosted Add GitHub Secrets for AWS\nAdd AWS credentials (access key and secret key) as GitHub secrets for your workflow to access AWS services. Edit Inbound Rules for EC2 Instance\nGo to the Security settings of your EC2 instance. Navigate to Security Groups. Edit the Inbound Rules by adding a Custom TCP rule with the port number 4242 as specified in the GitHub workflow file Initiate CICD github workflow\nCommit and push any change in the git repo to intiate cicd workflow. ",
  "wordCount" : "282",
  "inLanguage": "en",
  "image":"https://AbdullahMansoor123.github.io/spacecraft/images/cicd.png","datePublished": "0001-01-01T00:00:00Z",
  "dateModified": "0001-01-01T00:00:00Z",
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://AbdullahMansoor123.github.io/spacecraft/blogs/cicd_with_aws/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "Spaceman Crafts",
    "logo": {
      "@type": "ImageObject",
      "url": "https://AbdullahMansoor123.github.io/spacecraft/favicon.ico"
    }
  }
}
</script>
</head>

<body class="" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="https://AbdullahMansoor123.github.io/spacecraft/" accesskey="h" title="Spaceman Crafts (Alt + H)">Spaceman Crafts</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)" aria-label="Toggle theme">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    
    <h1 class="post-title entry-hint-parent">
      CICD with AWS
    </h1>
    <div class="post-meta">

</div>
  </header> 
<figure class="entry-cover">
        <img loading="eager" src="https://AbdullahMansoor123.github.io/spacecraft/images/cicd.png" alt="">
        
</figure>
  <div class="post-content"><h2 id="steps">Steps<a hidden class="anchor" aria-hidden="true" href="#steps">#</a></h2>
<ol>
<li>
<p><strong>Clone the GitHub Repo</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>git clone https://github.com/AbdullahMansoor123/ml_end2end
</span></span><span style="display:flex;"><span>cd ml_end2end
</span></span></code></pre></div></li>
<li>
<p><strong>Create a Dockerfile</strong></p>
<ul>
<li>Define the Dockerfile to build the application.</li>
</ul>
</li>
<li>
<p><strong>Create a GitHub Workflow</strong></p>
<ul>
<li>Set up GitHub Actions workflow for continuous integration.</li>
</ul>
</li>
<li>
<p><strong>Create IAM User and Download Access Key</strong></p>
<ul>
<li>Create an IAM user in AWS with necessary permissions and download the access key and secret key.</li>
</ul>
</li>
<li>
<p><strong>Create AWS ECR Repo and Copy URL</strong></p>
<ul>
<li>Create a repository in AWS Elastic Container Registry (ECR) and copy the repository URL.</li>
</ul>
</li>
<li>
<p><strong>Set Up EC2 Instance</strong></p>
<ul>
<li>Launch an EC2 instance and configure it as follows:
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>sudo apt-get update -y
</span></span><span style="display:flex;"><span>sudo apt-get update
</span></span><span style="display:flex;"><span>curl -fsSL https://get.docker.com -o get-docker.sh
</span></span><span style="display:flex;"><span>sudo sh get-docker.sh
</span></span><span style="display:flex;"><span>sudo usermod -aG docker ubuntu
</span></span><span style="display:flex;"><span>newgrp docker
</span></span></code></pre></div>check if the setup completed successfully by running <code>docker images</code> on the EC2 instance</li>
</ul>
</li>
<li>
<p><strong>Create Runner on GitHub to Connect Repo with EC2</strong></p>
<ul>
<li>
<p><strong>Create a Folder for the Runner</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>mkdir actions-runner <span style="color:#f92672">&amp;&amp;</span> cd actions-runner
</span></span></code></pre></div></li>
<li>
<p><strong>Download the Latest Runner Package</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>curl -o actions-runner-linux-x64-2.319.1.tar.gz -L https://github.com/actions/runner/releases/download/v2.319.1/actions-runner-linux-x64-2.319.1.tar.gz
</span></span></code></pre></div></li>
<li>
<p><strong>Optional: Validate the Hash</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>echo <span style="color:#e6db74">&#34;3f6efb7488a183e291fc2c62876e14c9ee732864173734facc85a1bfb1744464  actions-runner-linux-x64-2.319.1.tar.gz&#34;</span> | shasum -a <span style="color:#ae81ff">256</span> -c
</span></span></code></pre></div></li>
<li>
<p><strong>Extract the Installer</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>tar xzf ./actions-runner-linux-x64-2.319.1.tar.gz
</span></span></code></pre></div></li>
<li>
<p><strong>Configure the Runner</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>./config.sh --url https://github.com/AbdullahMansoor123/ml_end2end --token &lt;your_github_token&gt;
</span></span></code></pre></div></li>
<li>
<p><strong>Run the Runner</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>./run.sh
</span></span></code></pre></div></li>
<li>
<p><strong>Update GitHub Workflow YAML</strong><br>
Use the following in your GitHub Actions workflow file:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#f92672">runs-on</span>: <span style="color:#ae81ff">self-hosted</span>
</span></span></code></pre></div></li>
</ul>
</li>
<li>
<p><strong>Add GitHub Secrets for AWS</strong></p>
<ul>
<li>Add AWS credentials (access key and secret key) as GitHub secrets for your workflow to access AWS services.</li>
</ul>
</li>
<li>
<p><strong>Edit Inbound Rules for EC2 Instance</strong></p>
<ul>
<li>Go to the <strong>Security</strong> settings of your EC2 instance.</li>
<li>Navigate to <strong>Security Groups</strong>.</li>
<li>Edit the <strong>Inbound Rules</strong> by adding a <strong>Custom TCP</strong> rule with the port number <code>4242</code> as specified in the GitHub workflow file</li>
</ul>
</li>
<li>
<p><strong>Initiate CICD github workflow</strong></p>
</li>
</ol>
<ul>
<li>Commit and push any change in the git repo to intiate cicd workflow.</li>
</ul>


  </div>

  <footer class="post-footer">
    <ul class="post-tags">
      <li><a href="https://AbdullahMansoor123.github.io/spacecraft/tags/cicd/">CICD</a></li>
      <li><a href="https://AbdullahMansoor123.github.io/spacecraft/tags/aws/">AWS</a></li>
    </ul>
  </footer>
</article>
    </main>
    
<footer class="footer">
        <span>&copy; 2025 <a href="https://AbdullahMansoor123.github.io/spacecraft/">Spaceman Crafts</a></span> · 

    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
</body>

</html>
